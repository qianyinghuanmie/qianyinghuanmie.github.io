{"version":3,"sources":["webpack:///static/js/6.bf43164f2c9d3fa9be7b.js","webpack:///./src/views/map.vue","webpack:///map.vue","webpack:///./src/views/map.vue?43c4","webpack:///./src/views/map.vue?3916","webpack:///./src/views/map.vue?2b40"],"names":["webpackJsonp","157","module","exports","__webpack_require__","injectStyle","ssrContext","Component","242","__webpack_exports__","Object","defineProperty","value","map","placeSearch","self","placeSearchOptions","marker","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_AMap__","__WEBPACK_IMPORTED_MODULE_1_AMap___default","buttonsIcon","title","click","isActive","mapListText","num","poisArrCopy","numIndex","components","mounted","_self","this","a","resolve","reject","init","then","searchData","callback","demo","setTimeout","glob","getClass","data","buttons","listCount","listText","center","lng","lat","footer_button","methods","Map","resizeEnable","zoom","plugin","addControl","ToolBar","keyWords","distance","pageSize","pageIndex","city","visible","service","clearMap","PlaceSearch","i","length","searchNearBy","status","result","_result","pois","poiList","copyWithin","push","console","log","onClick","listClose","document","getElementsByClassName","style","visibility","listOpen","clickItem","index","e","forEach","Marker","icon","position","location","offset","Pixel","zIndex","clickable","event","addListener","265","version","sources","names","mappings","file","sourcesContent","sourceRoot","329","content","locals","341","render","_vm","_h","$createElement","_c","staticStyle","width","height","attrs","id","to","slot","_v","staticClass","_l","button","key","class","active","on","$event","_s","list","name","staticRenderFns"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACAF,EAAA,KAEA,GAAAG,GAAAH,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEAC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQO,EAAqBL,GAE7C,YACAM,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAyCjBC,GAAKC,EAAaC,EAAMC,EE9B5BC,EFXyBC,EAA8Dd,EAAoB,IAClFe,EAAsEf,EAAoBgB,EAAEF,GAC5FG,EAAqCjB,EAAoB,KACzDkB,EAA6ClB,EAAoBgB,EAAEC,GAmCxFE,IEnCJC,MAAA,KAAAC,OAAA,EAAAC,UACA,IAAAF,MAAA,KAAAC,OAAA,EAAAC,UACA,IAAAF,MAAA,KAAAC,OAAA,EAAAC,UACA,IAAAF,MAAA,KAAAC,OAAA,EAAAC,UAEA,IF+BIC,KAIAC,KACAC,KACAC,EE9BJ,CF+B6BrB,GAA6B,SACxDsB,cACAC,QAAS,WACP,GAAIC,GE9BRC,IF+BkB,IAAIf,GAAoEgB,EAAE,SAAUC,EAASC,GACzGJ,EE9BNK,OACAF,MFgCYG,KAAK,WACXN,EAAMO,WAAWP,EE9BvBQ,UF+BMR,EE9BNS,SF+BOH,KAAK,WACNI,WAAW,WACMV,EAAMW,KAAKC,SAAS,iBE9B3C,GACApB,SACA,QFiCEqB,KAAM,WAEJ,MADA/B,GE9BJmB,MFgCMa,QE9BNxB,EF+BMyB,cA3B0CA,GA4B1CC,SE9BNtB,EF+BMuB,QAAUC,IAAK,EAAGC,IE9BxB,GF+BMxB,IE9BNA,EF+BMyB,cE7BN,kBFiCEC,SACEhB,KAAM,WACJzB,EAAM,GAAIS,GAA2Ca,EAAEoB,IAAI,aACzDL,QAAS,mBE/BjB,mBFgCQM,cE/BR,EFgCQC,KE9BR,IFoCMnC,EAA2Ca,EAAEuB,QAAQ,mBAAoB,mBE/B/E,2BFgCQ7C,EAAI8C,WAAW,GAAIrC,GAA2Ca,EE9BtEyB,YFiCIpB,WAAY,SAAoBC,GAC9B,GAAIoB,IAAY,OAAQ,SAAU,OE9BxC,MF+BUC,GAAY,IAAM,IAAM,IE9BlC,IF8CM,OAdA9C,IACE+C,SE9BR,GF+BQC,UE9BR,EF+BQC,KAAM,MACNpD,IE9BRA,EF+BQqD,SE7BR,GF+BM5C,EAA2Ca,EAAEgC,QAAQ,mBAAoB,WACvEtD,EAAIuD,WACJtD,EAAc,GAAIQ,GAA2Ca,EAAEkC,YE9BvErD,EF+BQ,KAAK,GAAIsD,GAAI,EAAGA,EAAIT,EAASU,OAAQD,IACnCxD,EAAY0D,aAAaX,EAASS,IAAK,mBAAoB,oBAAqBR,EAASQ,GE9BnG7B,KAGAA,GFgCIA,SAAU,SAAkBgC,EAAQC,GACpB,GAAIvD,GAAoEgB,EAAE,SAAUC,EAASC,GACzG,GAAIsC,GE9BZD,EF+BYE,EAAOD,EAAQE,QE9B3BD,IF+BQ/C,GAAc+C,EAAKE,WE9B3B,GF+BQ/D,EAAKa,IAAImD,KAAKlD,GE1BtBO,MFgCcG,KAAK,WAEX,MADAyC,SAAQC,IE9BhB,aF+BelE,EE9Bf2B,UFiCIwC,QAAS,WACPF,QAAQC,IE9Bd,mBFgCIE,UAAW,WACKC,SAASC,uBAAuB,WE9BpD,GF+BcC,MAAMC,WE9BpB,UFgCIC,SAAU,WACMJ,SAASC,uBAAuB,WE9BpD,GF+BcC,MAAMC,WE9BpB,WFiCI7C,KAAM,WAEJ,KEhCNZ,EFgCqB,GACTf,EAAKa,IAAI2C,OAAS,EACpB,MAAO1D,GAAIuD,YAKjBqB,UAAW,SAAmBC,EAAO3C,GAUnC,QAASmC,GAAQS,GACfX,QAAQC,IE/BhBU,GFqBM9E,EAAIuD,WACJrB,EAAQ6C,QAAQ,SAAUD,EAAGD,GAC3BC,EAAEjE,UE/BV,IFiCMqB,EAAQ2C,GAAOhE,UE/BrB,EFgCMsD,QAAQC,IAAIlE,EE/BlBa,KFgCMb,EAAKiC,UAAYjC,EAAKa,IAAI8D,GE9BhCnB,OFgCMxD,EAAKkC,SAAWlC,EAAKa,IE/B3B8D,EFoCM,KAAK,GAAIpB,GAAI,EAAGA,EAAIvD,EAAKa,IAAI8D,GAAOnB,OAAQD,IAC1CrD,EAAS,GAAIK,GAA2Ca,EAAE0D,QAExDrE,ME/BV,MFgCUsE,KAAM,uDAAyDxB,EAAI,GE/B7E,OFgCUyB,UAAWhF,EAAKa,IAAI8D,GAAOpB,GAAG0B,SAAS7C,IAAKpC,EAAKa,IAAI8D,GAAOpB,GAAG0B,SE/BzE5C,KFgCU6C,OAAQ,GAAI3E,GAA2Ca,EAAE+D,OAAO,GE/B1E,GFgCUC,OE/BV,EFgCUtF,IE/BVA,EFgCUuF,WE9BV,IFgCQ9E,EAA2Ca,EAAEkE,MAAMC,YAAYrF,EAAQ,QE/B/EiE,EFiCM,OE/BNjE,OFsCMsF,IACA,SAAUrG,EAAQC,EAASC,GGtNjCD,EAAAD,EAAAC,QAAAC,EAAA,SAKAD,EAAA4E,MAAA7E,EAAAoE,EAAA,wrCAA+sC,IAAQkC,QAAA,EAAAC,SAAA,gDAAAC,SAAAC,SAAA,m3BAAAC,KAAA,UAAAC,gBAAA,ivDAA+tFC,WAAA,OH+Nh7HC,IACA,SAAU7G,EAAQC,EAASC,GIlOjC,GAAA4G,GAAA5G,EAAA,IACA,iBAAA4G,SAAA9G,EAAAoE,EAAA0C,EAAA,MACAA,EAAAC,SAAA/G,EAAAC,QAAA6G,EAAAC,OAEA7G,GAAA,gBAAA4G,GAAA,IJ2OME,IACA,SAAUhH,EAAQC,GKnPxBD,EAAAC,SAAgBgH,OAAA,WAAmB,GAAAC,GAAAlF,KAAamF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAnF,MAAAsF,IAAAF,CAC1E,OAAAE,GAAA,OACAC,aACAC,MAAA,OACAC,OAAA,QAEAC,OACAC,GAAA,SAEGL,EAAA,aACHI,OACAnG,MAAA,QAEG+F,EAAA,eACHI,OACAE,GAAA,UAEAC,KAAA,SACGP,EAAA,aACHI,OACA7B,KAAA,UAEGsB,EAAAW,GAAA,YAAAX,EAAAW,GAAA,KAAAR,EAAA,aACHI,OACA7B,KAAA,QAEAgC,KAAA,WACG,GAAAV,EAAAW,GAAA,KAAAR,EAAA,OACHC,aACAC,MAAA,OACAC,OAAA,OAEAC,OACAC,GAAA,eAEGR,EAAAW,GAAA,KAAAR,EAAA,OACHS,YAAA,sBACGZ,EAAAa,GAAAb,EAAA,iBAAAc,EAAAxC,GACH,MAAA6B,GAAA,UACAY,IAAAD,EAAAN,GACAQ,OAAAhB,EAAA/D,eACAgF,OAAAH,EAAAxG,WAEA4G,IACA7G,MAAA,SAAA8G,GACAnB,EAAA3B,UAAAC,EAAA0B,EAAArE,aAGKqE,EAAAW,GAAAX,EAAAoB,GAAAN,EAAA1G,OAAA,iBACF4F,EAAAW,GAAA,KAAAR,EAAA,OACHI,OACAC,GAAA,WAEGR,EAAAW,GAAA,KAAAR,EAAA,OACHS,YAAA,YACGT,EAAA,OACHS,YAAA,eACGZ,EAAAa,GAAAb,EAAA,kBAAAqB,GACH,MAAAlB,GAAA,OAAAA,EAAA,QAAAH,EAAAW,GAAAX,EAAAoB,GAAAC,EAAAC,SAAAnB,EAAA,QAAAH,EAAAW,GAAAX,EAAAoB,GAAAC,EAAA3E,SAAA,aACGsD,EAAAW,GAAA,KAAAR,EAAA,OACHS,YAAA,iBACAM,IACA7G,MAAA2F,EAAAjC,aAEGiC,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,OACHS,YAAA,cACAM,IACA7G,MAAA2F,EAAA5B,YAEG+B,EAAA,OAAAH,EAAAW,GAAA,IAAAX,EAAAoB,GAAApB,EAAApE,WAAA,OAAAoE,EAAAW,GAAA,KAAAR,EAAA,OAAAH,EAAAW,GAAA,iBACFY","file":"static/js/6.bf43164f2c9d3fa9be7b.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(329)\n}\nvar Component = __webpack_require__(35)(\n  /* script */\n  __webpack_require__(242),\n  /* template */\n  __webpack_require__(341),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_AMap__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_AMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_AMap__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar buttonsIcon = [{ title: '交通', click: false, isActive: true }, { title: '生活', click: false, isActive: false }, { title: '医疗', click: false, isActive: false }, { title: '学校', click: false, isActive: false }];\nvar mapListText = [];\n//  var geolocation, markers\nvar map, placeSearch, self, placeSearchOptions, listCount, marker;\n//  var poisArrr\nvar num = [];\nvar poisArrCopy = [];\nvar numIndex = 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {},\n  mounted: function mounted() {\n    var _self = this;\n    var promise = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      _self.init();\n      resolve();\n    });\n    promise.then(function () {\n      _self.searchData(_self.callback);\n      _self.demo();\n    }).then(function () {\n      setTimeout(function () {\n        var firstBtn = _self.glob.getClass('footer_button')[0];\n        firstBtn.click();\n      }, 500);\n    });\n  },\n  data: function data() {\n    self = this;\n    return {\n      buttons: buttonsIcon,\n      listCount: listCount,\n      listText: mapListText,\n      center: { lng: 0, lat: 0 },\n      num: num,\n      footer_button: 'footer_button'\n    };\n  },\n\n  methods: {\n    init: function init() {\n      map = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Map('container', {\n        center: [121.52710487067272, 31.22889232359548],\n        resizeEnable: false,\n        zoom: 5\n      });\n      /*       var icon = new AMap.Icon({\n       image: 'http://vdata.amap.com/icons/b18/1/2.png',\n       size: new AMap.Size(24, 24)\n       }) */\n      __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.plugin(['AMap.Geolocation', 'AMap.PlaceSearch', 'AMap.ToolBar'], function () {\n        map.addControl(new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.ToolBar());\n      });\n    },\n    searchData: function searchData(callback) {\n      var keyWords = ['地铁线路', '大型购物广场', '三甲医院', '学校'];\n      var distance = [1000, 3000, 3000, 3000];\n      // …………………………………………………………周边分类…………………………………………………………………………………………………………\n      placeSearchOptions = { // 构造地点查询类\n        pageSize: 10,\n        pageIndex: 1,\n        city: '021', // 城市\n        map: map,\n        visible: false\n      };\n      __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.service('AMap.PlaceSearch', function () {\n        map.clearMap(); // 清除地图覆盖物\n        placeSearch = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.PlaceSearch(placeSearchOptions);\n        for (var i = 0; i < keyWords.length; i++) {\n          placeSearch.searchNearBy(keyWords[i], [121.44343879031237, 31.207570983863118], distance[i], callback);\n        }\n      });\n      return callback;\n    },\n    callback: function callback(status, result) {\n      var promise = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        var _result = result;\n        var pois = _result.poiList.pois;\n        poisArrCopy = pois.copyWithin(0);\n        self.num.push(poisArrCopy);\n        //          self.listText = pois\n        //          self.listCount = _result.poiList.count\n        //          placeSearch.M.pageSize = 10\n        resolve();\n      });\n      promise.then(function () {\n        console.log('Resolved.');\n        return self.demo();\n      });\n    },\n    onClick: function onClick() {\n      console.log('on item click:');\n    },\n    listClose: function listClose() {\n      var content = document.getElementsByClassName('content')[0];\n      content.style.visibility = 'hidden';\n    },\n    listOpen: function listOpen() {\n      var content = document.getElementsByClassName('content')[0];\n      content.style.visibility = 'visible';\n    },\n\n    demo: function demo() {\n      numIndex++;\n      if (numIndex > 4) {\n        if (self.num.length > 0) {\n          return map.clearMap(); // 清除地图覆盖物\n        }\n      }\n    },\n    /*  注册每项的点击事件,默认显示num0，也就是交通，实际上所有的数据已经请求到了，点击按钮只是用来切换maker */\n    clickItem: function clickItem(index, buttons) {\n      map.clearMap(); // 清除地图覆盖物\n      buttons.forEach(function (e, index) {\n        e.isActive = false;\n      });\n      buttons[index].isActive = true;\n      console.log(self.num);\n      self.listCount = self.num[index].length;\n\n      self.listText = self.num[index];\n      function onClick(e) {\n        console.log(e);\n      }\n\n      for (var i = 0; i < self.num[index].length; i++) {\n        marker = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Marker({\n          //            content: 'div',\n          title: 'abc',\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i + 1) + '.png',\n          position: [self.num[index][i].location.lng, self.num[index][i].location.lat],\n          offset: new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Pixel(-24, 5),\n          zIndex: 1,\n          map: map,\n          clickable: true\n        });\n        __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.event.addListener(marker, 'click', onClick);\n      }\n      return marker;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(166)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#app{height:600px}#map{position:absolute;padding:0;width:100%;background:#fff}#container{width:100%;height:100%;font-size:15px}#panel{background-color:#fff;max-height:90%;overflow-y:auto;top:10px;right:10px;width:280px;border-bottom:1px solid silver}.footer_map_buttons{background:#fff;width:100%;font-size:0}.footer_map_buttons button{font-size:15px;background:#fff;border:none;width:24%;display:inline-block;line-height:40px}.footer_map_buttons .enroll{display:inline-block;width:28%;background:#fe4a4a;color:#fff}.footer_map_buttons .active{color:#fe4a4a}.content{position:absolute;background:#fff;left:0;top:0;width:100%;height:40%;visibility:hidden;z-index:9999}.content>.content-top{height:84%;overflow:hidden}.content>.content-top>div{font-size:12px;line-height:.7rem;border-bottom:1px solid #aeaeae;margin:0 5%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.content>.content-bottom{height:10%;text-align:center;font-weight:300;color:#333;font-size:30px}.list-button{font-size:12px;position:absolute;background:#fff;left:1%;bottom:8%;width:20%;padding:2% 0;height:6%;z-index:200}.list-button>div{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"E:/github托管项目/vue2.0-demos/src/views/map.vue\"],\"names\":[],\"mappings\":\"AACA,KACE,YAAc,CACf,AACD,KACE,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,eAAoB,CACrB,AACD,WACE,WAAY,AACZ,YAAa,AACb,cAAgB,CACjB,AACD,OACE,sBAAwB,AACxB,eAAgB,AAChB,gBAAiB,AACjB,SAAU,AACV,WAAY,AACZ,YAAa,AACb,8BAAgC,CACjC,AACD,oBACE,gBAAoB,AACpB,WAAY,AACZ,WAAa,CACd,AACD,2BACI,eAAgB,AAChB,gBAAoB,AACpB,YAAa,AACb,UAAW,AACX,qBAAsB,AACtB,gBAAkB,CACrB,AACD,4BACI,qBAAsB,AACtB,UAAW,AACX,mBAAoB,AACpB,UAAe,CAClB,AACD,4BACI,aAAe,CAElB,AACD,SACE,kBAAmB,AACnB,gBAAoB,AACpB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,WAAY,AACZ,kBAAmB,AACnB,YAAc,CACf,AACD,sBACI,WAAY,AACZ,eAAiB,CACpB,AACD,0BACM,eAAgB,AAChB,kBAAoB,AACpB,gCAAiC,AACjC,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC5C,AACD,yBACI,WAAY,AACZ,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,cAAgB,CACnB,AACD,aACE,eAAgB,AAChB,kBAAmB,AACnB,gBAAoB,AACpB,QAAS,AACT,UAAW,AACX,UAAW,AACX,aAAc,AACd,UAAW,AACX,WAAa,CACd,AACD,iBACI,iBAAmB,CACtB\",\"file\":\"map.vue\",\"sourcesContent\":[\"\\n#app {\\n  height: 600px;\\n}\\n#map {\\n  position: absolute;\\n  padding: 0;\\n  width: 100%;\\n  background: #FFFFFF;\\n}\\n#container {\\n  width: 100%;\\n  height: 100%;\\n  font-size: 15px;\\n}\\n#panel {\\n  background-color: white;\\n  max-height: 90%;\\n  overflow-y: auto;\\n  top: 10px;\\n  right: 10px;\\n  width: 280px;\\n  border-bottom: solid 1px silver;\\n}\\n.footer_map_buttons {\\n  background: #FFFFFF;\\n  width: 100%;\\n  font-size: 0;\\n}\\n.footer_map_buttons button {\\n    font-size: 15px;\\n    background: #FFFFFF;\\n    border: none;\\n    width: 24%;\\n    display: inline-block;\\n    line-height: 40px;\\n}\\n.footer_map_buttons .enroll {\\n    display: inline-block;\\n    width: 28%;\\n    background: #fe4a4a;\\n    color: #FFFFFF;\\n}\\n.footer_map_buttons .active {\\n    color: #fe4a4a;\\n    /* border-top: 1px solid #fe4a4a; */\\n}\\n.content {\\n  position: absolute;\\n  background: #FFFFFF;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 40%;\\n  visibility: hidden;\\n  z-index: 9999;\\n}\\n.content > .content-top {\\n    height: 84%;\\n    overflow: hidden;\\n}\\n.content > .content-top > div {\\n      font-size: 12px;\\n      line-height: 0.7rem;\\n      border-bottom: 1px solid #aeaeae;\\n      margin: 0 5%;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-pack: justify;\\n          -ms-flex-pack: justify;\\n              justify-content: space-between;\\n}\\n.content > .content-bottom {\\n    height: 10%;\\n    text-align: center;\\n    font-weight: 300;\\n    color: #333;\\n    font-size: 30px;\\n}\\n.list-button {\\n  font-size: 12px;\\n  position: absolute;\\n  background: #FFFFFF;\\n  left: 1%;\\n  bottom: 8%;\\n  width: 20%;\\n  padding: 2% 0;\\n  height: 6%;\\n  z-index: 200;\\n}\\n.list-button > div {\\n    text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(265);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(167)(\"5b755f15\", content, true);\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"map\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"地图\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/index\"\n    },\n    slot: \"left\"\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    }\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('mt-button', {\n    attrs: {\n      \"icon\": \"more\"\n    },\n    slot: \"right\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"88%\"\n    },\n    attrs: {\n      \"id\": \"container\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_map_buttons\"\n  }, _vm._l((_vm.buttons), function(button, index) {\n    return _c('button', {\n      key: button.id,\n      class: [_vm.footer_button, {\n        active: button.isActive\n      }],\n      on: {\n        \"click\": function($event) {\n          _vm.clickItem(index, _vm.buttons)\n        }\n      }\n    }, [_vm._v(_vm._s(button.title) + \"\\n\\n    \")])\n  })), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"panel\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"content-top\"\n  }, _vm._l((_vm.listText), function(list) {\n    return _c('div', [_c('span', [_vm._v(_vm._s(list.name))]), _c('span', [_vm._v(_vm._s(list.distance + '米'))])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-bottom\",\n    on: {\n      \"click\": _vm.listClose\n    }\n  }, [_vm._v(\"x\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-button\",\n    on: {\n      \"click\": _vm.listOpen\n    }\n  }, [_c('div', [_vm._v(\"(\" + _vm._s(_vm.listCount) + \")\")]), _vm._v(\" \"), _c('div', [_vm._v(\"查看列表\")])])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.bf43164f2c9d3fa9be7b.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20754be0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./map.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./map.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20754be0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./map.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/map.vue\n// module id = 157\n// module chunks = 6","<template>\n  <div id=\"map\" style=\"width:100%; height:100%\">\n    <!--头部-->\n    <mt-header title=\"地图\">\n      <router-link to=\"/index\" slot=\"left\">\n        <mt-button icon=\"back\">返回</mt-button>\n      </router-link>\n      <mt-button icon=\"more\" slot=\"right\"></mt-button>\n    </mt-header>\n\n    <div id=\"container\" style=\"width:100%; height:88%\"></div>\n    <div class=\"footer_map_buttons\">\n      <button v-for=\"(button, index) in buttons\" :key=\"button.id\" @click=\"clickItem(index ,buttons)\"\n              v-bind:class=\"[footer_button, {active: button.isActive}]\">{{button.title}}\n\n      </button>\n    </div>\n    <div id=\"panel\"></div>\n    <div class=\"content\">\n      <div class=\"content-top\">\n        <div v-for=\"list in listText\"><span>{{list.name}}</span><span>{{list.distance + '米'}}</span></div>\n      </div>\n      <div class=\"content-bottom\" @click=\"listClose\">x</div>\n    </div>\n    <div class=\"list-button\" @click=\"listOpen\">\n      <div>({{listCount}})</div>\n      <div>查看列表</div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import AMap from 'AMap'\n  const buttonsIcon = [\n    {title: '交通', click: false, isActive: true},\n    {title: '生活', click: false, isActive: false},\n    {title: '医疗', click: false, isActive: false},\n    {title: '学校', click: false, isActive: false}\n  ]\n  var mapListText = []\n  //  var geolocation, markers\n  var map, placeSearch, self, placeSearchOptions, listCount, marker\n  //  var poisArrr\n  var num = []\n  var poisArrCopy = []\n  var numIndex = 0\n  export default {\n    components: {},\n    mounted: function () {\n      let _self = this\n      let promise = new Promise(function (resolve, reject) {\n        _self.init()\n        resolve()\n      })\n      promise.then(function () {\n        _self.searchData(_self.callback)\n        _self.demo()\n      }).then(function () {\n        setTimeout(function () {\n          let firstBtn = _self.glob.getClass('footer_button')[0]\n          firstBtn.click()\n        }, 500)\n      })\n    },\n    data () {\n      self = this\n      return {\n        buttons: buttonsIcon,\n        listCount: listCount,\n        listText: mapListText,\n        center: {lng: 0, lat: 0},\n        num: num,\n        footer_button: 'footer_button'\n      }\n    },\n    methods: {\n      init: function () {\n        map = new AMap.Map('container', {\n          center: [121.52710487067272, 31.22889232359548],\n          resizeEnable: false,\n          zoom: 5\n        })\n        /*       var icon = new AMap.Icon({\n         image: 'http://vdata.amap.com/icons/b18/1/2.png',\n         size: new AMap.Size(24, 24)\n         }) */\n        AMap.plugin(['AMap.Geolocation', 'AMap.PlaceSearch', 'AMap.ToolBar'],\n          function () {\n            map.addControl(new AMap.ToolBar())\n          })\n      },\n      searchData: function (callback) {\n        let keyWords = ['地铁线路', '大型购物广场', '三甲医院', '学校']\n        let distance = [1000, 3000, 3000, 3000]\n        // …………………………………………………………周边分类…………………………………………………………………………………………………………\n        placeSearchOptions = { // 构造地点查询类\n          pageSize: 10,\n          pageIndex: 1,\n          city: '021', // 城市\n          map: map,\n          visible: false\n        }\n        AMap.service('AMap.PlaceSearch', function () {\n          map.clearMap()  // 清除地图覆盖物\n          placeSearch = new AMap.PlaceSearch(placeSearchOptions)\n          for (let i = 0; i < keyWords.length; i++) {\n            placeSearch.searchNearBy(keyWords[i], [121.44343879031237, 31.207570983863118], distance[i], callback)\n          }\n        })\n        return callback\n      },\n      callback: function (status, result) {\n        var promise = new Promise(function (resolve, reject) {\n          let _result = result\n          const pois = _result.poiList.pois\n          poisArrCopy = pois.copyWithin(0)\n          self.num.push(poisArrCopy)\n//          self.listText = pois\n//          self.listCount = _result.poiList.count\n//          placeSearch.M.pageSize = 10\n          resolve()\n        })\n        promise.then(function () {\n          console.log('Resolved.')\n          return self.demo()\n        })\n      },\n      onClick () {\n        console.log('on item click:')\n      },\n      listClose () {\n        let content = document.getElementsByClassName('content')[0]\n        content.style.visibility = 'hidden'\n      },\n      listOpen () {\n        let content = document.getElementsByClassName('content')[0]\n        content.style.visibility = 'visible'\n      },\n      demo: function () {\n        numIndex++\n        if (numIndex > 4) {\n          if (self.num.length > 0) {\n            return map.clearMap()  // 清除地图覆盖物\n          }\n        }\n      },\n      /*  注册每项的点击事件,默认显示num0，也就是交通，实际上所有的数据已经请求到了，点击按钮只是用来切换maker */\n      clickItem: function (index, buttons) {\n        map.clearMap()  // 清除地图覆盖物\n        buttons.forEach(function (e, index) {\n          e.isActive = false\n        })\n        buttons[index].isActive = true\n        console.log(self.num)\n        self.listCount = self.num[index].length\n\n        self.listText = self.num[index]\n        function onClick (e) {\n          console.log(e)\n        }\n\n        for (let i = 0; i < self.num[index].length; i++) {\n          marker = new AMap.Marker({\n//            content: 'div',\n            title: 'abc',\n            icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i + 1) + '.png',\n            position: [self.num[index][i].location.lng, self.num[index][i].location.lat],\n            offset: new AMap.Pixel(-24, 5),\n            zIndex: 1,\n            map: map,\n            clickable: true\n          })\n          AMap.event.addListener(marker, 'click', onClick)\n        }\n        return marker\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  #app {\n    height: 600px;\n  }\n#map{\n  position: absolute;\n  padding: 0;\n  width: 100%;\n  background: #FFFFFF;\n}\n  #container {\n    width: 100%;\n    height: 100%;\n    font-size: 15px;\n  }\n\n  #panel {\n    background-color: white;\n    max-height: 90%;\n    overflow-y: auto;\n    top: 10px;\n    right: 10px;\n    width: 280px;\n    border-bottom: solid 1px silver;\n  }\n\n  .footer_map_buttons {\n    background: #FFFFFF;\n    width: 100%;\n    font-size: 0;\n    button {\n      font-size: 15px;\n      background: #FFFFFF;\n      border: none;\n      width: 24%;\n      display: inline-block;\n      line-height: 40px;\n    }\n    .enroll {\n      display: inline-block;\n      width: 28%;\n      background: #fe4a4a;\n      color: #FFFFFF;\n    }\n    .active {\n      color: #fe4a4a;\n      /* border-top: 1px solid #fe4a4a; */\n    }\n  }\n  .content {\n    position: absolute;\n    background: #FFFFFF;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 40%;\n    visibility: hidden;\n    z-index: 9999;\n    > .content-top {\n      height: 84%;\n      overflow: hidden;\n      > div {\n        font-size: 12px;\n        line-height: 0.7rem;\n        border-bottom: 1px solid #aeaeae;\n        margin: 0 5%;\n        display: -webkit-flex;\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n    > .content-bottom {\n      height: 10%;\n      text-align: center;\n      font-weight: 300;\n      color: #333;\n      font-size: 30px;\n    }\n  }\n\n  .list-button {\n    font-size: 12px;\n    position: absolute;\n    background: #FFFFFF;\n    left: 1%;\n    bottom: 8%;\n    width: 20%;\n    padding: 2% 0;\n    height: 6%;\n    z-index: 200;\n    > div {\n      text-align: center;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// map.vue?0879c8f7","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#app{height:600px}#map{position:absolute;padding:0;width:100%;background:#fff}#container{width:100%;height:100%;font-size:15px}#panel{background-color:#fff;max-height:90%;overflow-y:auto;top:10px;right:10px;width:280px;border-bottom:1px solid silver}.footer_map_buttons{background:#fff;width:100%;font-size:0}.footer_map_buttons button{font-size:15px;background:#fff;border:none;width:24%;display:inline-block;line-height:40px}.footer_map_buttons .enroll{display:inline-block;width:28%;background:#fe4a4a;color:#fff}.footer_map_buttons .active{color:#fe4a4a}.content{position:absolute;background:#fff;left:0;top:0;width:100%;height:40%;visibility:hidden;z-index:9999}.content>.content-top{height:84%;overflow:hidden}.content>.content-top>div{font-size:12px;line-height:.7rem;border-bottom:1px solid #aeaeae;margin:0 5%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.content>.content-bottom{height:10%;text-align:center;font-weight:300;color:#333;font-size:30px}.list-button{font-size:12px;position:absolute;background:#fff;left:1%;bottom:8%;width:20%;padding:2% 0;height:6%;z-index:200}.list-button>div{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"E:/github托管项目/vue2.0-demos/src/views/map.vue\"],\"names\":[],\"mappings\":\"AACA,KACE,YAAc,CACf,AACD,KACE,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,eAAoB,CACrB,AACD,WACE,WAAY,AACZ,YAAa,AACb,cAAgB,CACjB,AACD,OACE,sBAAwB,AACxB,eAAgB,AAChB,gBAAiB,AACjB,SAAU,AACV,WAAY,AACZ,YAAa,AACb,8BAAgC,CACjC,AACD,oBACE,gBAAoB,AACpB,WAAY,AACZ,WAAa,CACd,AACD,2BACI,eAAgB,AAChB,gBAAoB,AACpB,YAAa,AACb,UAAW,AACX,qBAAsB,AACtB,gBAAkB,CACrB,AACD,4BACI,qBAAsB,AACtB,UAAW,AACX,mBAAoB,AACpB,UAAe,CAClB,AACD,4BACI,aAAe,CAElB,AACD,SACE,kBAAmB,AACnB,gBAAoB,AACpB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,WAAY,AACZ,kBAAmB,AACnB,YAAc,CACf,AACD,sBACI,WAAY,AACZ,eAAiB,CACpB,AACD,0BACM,eAAgB,AAChB,kBAAoB,AACpB,gCAAiC,AACjC,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CAC5C,AACD,yBACI,WAAY,AACZ,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,cAAgB,CACnB,AACD,aACE,eAAgB,AAChB,kBAAmB,AACnB,gBAAoB,AACpB,QAAS,AACT,UAAW,AACX,UAAW,AACX,aAAc,AACd,UAAW,AACX,WAAa,CACd,AACD,iBACI,iBAAmB,CACtB\",\"file\":\"map.vue\",\"sourcesContent\":[\"\\n#app {\\n  height: 600px;\\n}\\n#map {\\n  position: absolute;\\n  padding: 0;\\n  width: 100%;\\n  background: #FFFFFF;\\n}\\n#container {\\n  width: 100%;\\n  height: 100%;\\n  font-size: 15px;\\n}\\n#panel {\\n  background-color: white;\\n  max-height: 90%;\\n  overflow-y: auto;\\n  top: 10px;\\n  right: 10px;\\n  width: 280px;\\n  border-bottom: solid 1px silver;\\n}\\n.footer_map_buttons {\\n  background: #FFFFFF;\\n  width: 100%;\\n  font-size: 0;\\n}\\n.footer_map_buttons button {\\n    font-size: 15px;\\n    background: #FFFFFF;\\n    border: none;\\n    width: 24%;\\n    display: inline-block;\\n    line-height: 40px;\\n}\\n.footer_map_buttons .enroll {\\n    display: inline-block;\\n    width: 28%;\\n    background: #fe4a4a;\\n    color: #FFFFFF;\\n}\\n.footer_map_buttons .active {\\n    color: #fe4a4a;\\n    /* border-top: 1px solid #fe4a4a; */\\n}\\n.content {\\n  position: absolute;\\n  background: #FFFFFF;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 40%;\\n  visibility: hidden;\\n  z-index: 9999;\\n}\\n.content > .content-top {\\n    height: 84%;\\n    overflow: hidden;\\n}\\n.content > .content-top > div {\\n      font-size: 12px;\\n      line-height: 0.7rem;\\n      border-bottom: 1px solid #aeaeae;\\n      margin: 0 5%;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-pack: justify;\\n          -ms-flex-pack: justify;\\n              justify-content: space-between;\\n}\\n.content > .content-bottom {\\n    height: 10%;\\n    text-align: center;\\n    font-weight: 300;\\n    color: #333;\\n    font-size: 30px;\\n}\\n.list-button {\\n  font-size: 12px;\\n  position: absolute;\\n  background: #FFFFFF;\\n  left: 1%;\\n  bottom: 8%;\\n  width: 20%;\\n  padding: 2% 0;\\n  height: 6%;\\n  z-index: 200;\\n}\\n.list-button > div {\\n    text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-20754be0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/map.vue\n// module id = 265\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20754be0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./map.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5b755f15\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-20754be0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/map.vue\n// module id = 329\n// module chunks = 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    },\n    attrs: {\n      \"id\": \"map\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"地图\"\n    }\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"/index\"\n    },\n    slot: \"left\"\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    }\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('mt-button', {\n    attrs: {\n      \"icon\": \"more\"\n    },\n    slot: \"right\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"88%\"\n    },\n    attrs: {\n      \"id\": \"container\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_map_buttons\"\n  }, _vm._l((_vm.buttons), function(button, index) {\n    return _c('button', {\n      key: button.id,\n      class: [_vm.footer_button, {\n        active: button.isActive\n      }],\n      on: {\n        \"click\": function($event) {\n          _vm.clickItem(index, _vm.buttons)\n        }\n      }\n    }, [_vm._v(_vm._s(button.title) + \"\\n\\n    \")])\n  })), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"panel\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"content-top\"\n  }, _vm._l((_vm.listText), function(list) {\n    return _c('div', [_c('span', [_vm._v(_vm._s(list.name))]), _c('span', [_vm._v(_vm._s(list.distance + '米'))])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-bottom\",\n    on: {\n      \"click\": _vm.listClose\n    }\n  }, [_vm._v(\"x\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-button\",\n    on: {\n      \"click\": _vm.listOpen\n    }\n  }, [_c('div', [_vm._v(\"(\" + _vm._s(_vm.listCount) + \")\")]), _vm._v(\" \"), _c('div', [_vm._v(\"查看列表\")])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-20754be0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/map.vue\n// module id = 341\n// module chunks = 6"],"sourceRoot":""}