{"version":3,"sources":["webpack:///static/js/4.30296dd78e7b3ed4abf4.js","webpack:///around.vue","webpack:///./src/components/around.vue?cbbb","webpack:///./src/components/around.vue?964d","webpack:///./src/components/around.vue?68df","webpack:///./src/components/around.vue"],"names":["webpackJsonp","156","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","map","placeSearch","self","placeSearchOptions","marker","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_AMap__","__WEBPACK_IMPORTED_MODULE_1_AMap___default","buttonsIcon","title","click","isActive","mapListText","num","poisArrCopy","numIndex","components","mounted","_self","this","a","resolve","reject","init","then","searchData","callback","demo","setTimeout","glob","getClass","data","buttons","listCount","listText","center","lng","lat","footer_button","methods","Map","resizeEnable","zoom","plugin","addControl","ToolBar","keyWords","distance","pageSize","pageIndex","city","visible","service","clearMap","PlaceSearch","i","length","searchNearBy","status","result","_result","pois","poiList","copyWithin","push","console","log","onClick","listClose","document","getElementsByClassName","style","visibility","listOpen","clickItem","index","e","forEach","Marker","icon","position","location","offset","Pixel","zIndex","clickable","event","addListener","161","exports","version","sources","names","mappings","file","sourceRoot","220","content","locals","230","render","_vm","_h","$createElement","_c","staticStyle","width","height","attrs","message","backUrl","_v","id","staticClass","_l","button","key","class","active","on","$event","_s","list","name","staticRenderFns","83","Component"],"mappings":"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","file":"static/js/4.30296dd78e7b3ed4abf4.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 156:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_AMap__ = __webpack_require__(273);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_AMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_AMap__);\n\n\n\n\nvar buttonsIcon = [{ title: '交通', click: false, isActive: true }, { title: '生活', click: false, isActive: false }, { title: '医疗', click: false, isActive: false }, { title: '学校', click: false, isActive: false }];\nvar mapListText = [];\n\nvar map, placeSearch, self, placeSearchOptions, listCount, marker;\n\nvar num = [];\nvar poisArrCopy = [];\nvar numIndex = 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {},\n  mounted: function mounted() {\n    var _self = this;\n    var promise = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      _self.init();\n      resolve();\n    });\n    promise.then(function () {\n      _self.searchData(_self.callback);\n      _self.demo();\n    }).then(function () {\n      setTimeout(function () {\n        var firstBtn = _self.glob.getClass('footer_button')[0];\n        firstBtn.click();\n      }, 300);\n    });\n  },\n  data: function data() {\n    self = this;\n    return {\n      buttons: buttonsIcon,\n      listCount: listCount,\n      listText: mapListText,\n      center: { lng: 0, lat: 0 },\n      num: num,\n      footer_button: 'footer_button'\n    };\n  },\n\n  methods: {\n    init: function init() {\n      map = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Map('container', {\n        center: [121.52710487067272, 31.22889232359548],\n        resizeEnable: false,\n        zoom: 5\n      });\n\n      __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.plugin(['AMap.Geolocation', 'AMap.PlaceSearch', 'AMap.ToolBar'], function () {\n        map.addControl(new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.ToolBar());\n      });\n    },\n    searchData: function searchData(callback) {\n      var keyWords = ['地铁线路', '大型购物广场', '三甲医院', '学校'];\n      var distance = [1000, 3000, 3000, 3000];\n\n      placeSearchOptions = {\n        pageSize: 10,\n        pageIndex: 1,\n        city: '021',\n        map: map,\n        visible: false\n      };\n      __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.service('AMap.PlaceSearch', function () {\n        map.clearMap();\n        placeSearch = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.PlaceSearch(placeSearchOptions);\n        for (var i = 0; i < keyWords.length; i++) {\n          placeSearch.searchNearBy(keyWords[i], [121.44343879031237, 31.207570983863118], distance[i], callback);\n        }\n      });\n      return callback;\n    },\n    callback: function callback(status, result) {\n      var promise = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        var _result = result;\n        var pois = _result.poiList.pois;\n        poisArrCopy = pois.copyWithin(0);\n        self.num.push(poisArrCopy);\n\n        resolve();\n      });\n      promise.then(function () {\n        console.log('Resolved.');\n        return self.demo();\n      });\n    },\n    onClick: function onClick() {\n      console.log('on item click:');\n    },\n    listClose: function listClose() {\n      var content = document.getElementsByClassName('content')[0];\n      content.style.visibility = 'hidden';\n    },\n    listOpen: function listOpen() {\n      var content = document.getElementsByClassName('content')[0];\n      content.style.visibility = 'visible';\n    },\n\n    demo: function demo() {\n      numIndex++;\n      if (numIndex > 4) {\n        if (self.num.length > 0) {\n          return map.clearMap();\n        }\n      }\n    },\n\n    clickItem: function clickItem(index, buttons) {\n      map.clearMap();\n      buttons.forEach(function (e, index) {\n        e.isActive = false;\n      });\n      buttons[index].isActive = true;\n      self.listCount = self.num[index].length;\n      self.listText = self.num[index];\n      function onClick(e) {\n        console.log(e);\n      }\n      for (var i = 0; i < self.num[index].length; i++) {\n        marker = new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Marker({\n          title: 'abc',\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i + 1) + '.png',\n          position: [self.num[index][i].location.lng, self.num[index][i].location.lat],\n          offset: new __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.Pixel(-24, 5),\n          zIndex: 1,\n          map: map,\n          clickable: true\n        });\n        __WEBPACK_IMPORTED_MODULE_1_AMap___default.a.event.addListener(marker, 'click', onClick);\n      }\n      return marker;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(90)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"around.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(161);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(91)(\"6eaa4b9b\", content, true);\n\n/***/ }),\n\n/***/ 230:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  }, [_c('header-item', {\n    attrs: {\n      \"message\": \"地图周边\",\n      \"backUrl\": \"/\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"90%\"\n    },\n    attrs: {\n      \"id\": \"container\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_map_buttons\"\n  }, _vm._l((_vm.buttons), function(button, index) {\n    return _c('button', {\n      key: button.id,\n      class: [_vm.footer_button, {\n        active: button.isActive\n      }],\n      on: {\n        \"click\": function($event) {\n          _vm.clickItem(index, _vm.buttons)\n        }\n      }\n    }, [_vm._v(_vm._s(button.title) + \"\\n\\n    \")])\n  })), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"panel\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"content-top\"\n  }, _vm._l((_vm.listText), function(list) {\n    return _c('div', [_c('span', [_vm._v(_vm._s(list.name))]), _c('span', [_vm._v(_vm._s(list.distance + '米'))])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-bottom\",\n    on: {\n      \"click\": _vm.listClose\n    }\n  }, [_vm._v(\"x\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-button\",\n    on: {\n      \"click\": _vm.listOpen\n    }\n  }, [_c('div', [_vm._v(\"(\" + _vm._s(_vm.listCount) + \")\")]), _vm._v(\" \"), _c('div', [_vm._v(\"查看列表\")])])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(220)\n\nvar Component = __webpack_require__(22)(\n  /* script */\n  __webpack_require__(156),\n  /* template */\n  __webpack_require__(230),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.30296dd78e7b3ed4abf4.js","\r\n<!--高德地图测试-->\r\n<template>\r\n  <div style=\"width:100%; height:100%\">\r\n    <!--    <header-item message=\"景瑞城北公园\" backUrl=\"/\"></header-item>-->\r\n    <header-item message=\"地图周边\" backUrl=\"/\"></header-item>\r\n    <div id=\"container\" style=\"width:100%; height:90%\"></div>\r\n    <div class=\"footer_map_buttons\">\r\n      <button v-for=\"(button, index) in buttons\" :key=\"button.id\" @click=\"clickItem(index ,buttons)\"\r\n              v-bind:class=\"[footer_button, {active: button.isActive}]\">{{button.title}}\r\n\r\n      </button>\r\n    </div>\r\n    <div id=\"panel\"></div>\r\n    <div class=\"content\">\r\n      <div class=\"content-top\">\r\n        <div v-for=\"list in listText\"><span>{{list.name}}</span><span>{{list.distance + '米'}}</span></div>\r\n      </div>\r\n      <div class=\"content-bottom\" @click=\"listClose\">x</div>\r\n    </div>\r\n    <div class=\"list-button\" @click=\"listOpen\">\r\n      <div>({{listCount}})</div>\r\n      <div>查看列表</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import AMap from 'AMap'\r\n  const buttonsIcon = [\r\n    {title: '交通', click: false, isActive: true},\r\n    {title: '生活', click: false, isActive: false},\r\n    {title: '医疗', click: false, isActive: false},\r\n    {title: '学校', click: false, isActive: false}\r\n  ]\r\n  var mapListText = []\r\n  //  var geolocation, markers\r\n  var map, placeSearch, self, placeSearchOptions, listCount, marker\r\n  //  var poisArrr\r\n  var num = []\r\n  var poisArrCopy = []\r\n  var numIndex = 0\r\n  export default {\r\n    components: {},\r\n    mounted: function () {\r\n      let _self = this\r\n      let promise = new Promise(function (resolve, reject) {\r\n        _self.init()\r\n        resolve()\r\n      })\r\n      promise.then(function () {\r\n        _self.searchData(_self.callback)\r\n        _self.demo()\r\n      }).then(function () {\r\n        setTimeout(function () {\r\n          let firstBtn = _self.glob.getClass('footer_button')[0]\r\n          firstBtn.click()\r\n        }, 300)\r\n      })\r\n    },\r\n    data () {\r\n      self = this\r\n      return {\r\n        buttons: buttonsIcon,\r\n        listCount: listCount,\r\n        listText: mapListText,\r\n        center: {lng: 0, lat: 0},\r\n        num: num,\r\n        footer_button: 'footer_button'\r\n      }\r\n    },\r\n    methods: {\r\n      init: function () {\r\n        map = new AMap.Map('container', {\r\n          center: [121.52710487067272, 31.22889232359548],\r\n          resizeEnable: false,\r\n          zoom: 5\r\n        })\r\n        /*       var icon = new AMap.Icon({\r\n         image: 'http://vdata.amap.com/icons/b18/1/2.png',\r\n         size: new AMap.Size(24, 24)\r\n         }) */\r\n        AMap.plugin(['AMap.Geolocation', 'AMap.PlaceSearch', 'AMap.ToolBar'],\r\n          function () {\r\n            map.addControl(new AMap.ToolBar())\r\n          })\r\n      },\r\n      searchData: function (callback) {\r\n        let keyWords = ['地铁线路', '大型购物广场', '三甲医院', '学校']\r\n        let distance = [1000, 3000, 3000, 3000]\r\n        // …………………………………………………………周边分类…………………………………………………………………………………………………………\r\n        placeSearchOptions = { // 构造地点查询类\r\n          pageSize: 10,\r\n          pageIndex: 1,\r\n          city: '021', // 城市\r\n          map: map,\r\n          visible: false\r\n        }\r\n        AMap.service('AMap.PlaceSearch', function () {\r\n          map.clearMap()  // 清除地图覆盖物\r\n          placeSearch = new AMap.PlaceSearch(placeSearchOptions)\r\n          for (let i = 0; i < keyWords.length; i++) {\r\n            placeSearch.searchNearBy(keyWords[i], [121.44343879031237, 31.207570983863118], distance[i], callback)\r\n          }\r\n        })\r\n        return callback\r\n      },\r\n      callback: function (status, result) {\r\n        var promise = new Promise(function (resolve, reject) {\r\n          let _result = result\r\n          const pois = _result.poiList.pois\r\n          poisArrCopy = pois.copyWithin(0)\r\n          self.num.push(poisArrCopy)\r\n//          self.listText = pois\r\n//          self.listCount = _result.poiList.count\r\n//          placeSearch.M.pageSize = 10\r\n          resolve()\r\n        })\r\n        promise.then(function () {\r\n          console.log('Resolved.')\r\n          return self.demo()\r\n        })\r\n      },\r\n      onClick () {\r\n        console.log('on item click:')\r\n      },\r\n      listClose () {\r\n        let content = document.getElementsByClassName('content')[0]\r\n        content.style.visibility = 'hidden'\r\n      },\r\n      listOpen () {\r\n        let content = document.getElementsByClassName('content')[0]\r\n        content.style.visibility = 'visible'\r\n      },\r\n      demo: function () {\r\n        numIndex++\r\n        if (numIndex > 4) {\r\n          if (self.num.length > 0) {\r\n            return map.clearMap()  // 清除地图覆盖物\r\n          }\r\n        }\r\n      },\r\n      /*  注册每项的点击事件,默认显示num0，也就是交通，实际上所有的数据已经请求到了，点击按钮只是用来切换maker */\r\n      clickItem: function (index, buttons) {\r\n        map.clearMap()  // 清除地图覆盖物\r\n        buttons.forEach(function (e, index) {\r\n          e.isActive = false\r\n        })\r\n        buttons[index].isActive = true\r\n        self.listCount = self.num[index].length\r\n        self.listText = self.num[index]\r\n        function onClick (e) {\r\n          console.log(e)\r\n        }\r\n        for (let i = 0; i < self.num[index].length; i++) {\r\n          marker = new AMap.Marker({\r\n//            content: 'div',\r\n            title: 'abc',\r\n            icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i + 1) + '.png',\r\n            position: [self.num[index][i].location.lng, self.num[index][i].location.lat],\r\n            offset: new AMap.Pixel(-24, 5),\r\n            zIndex: 1,\r\n            map: map,\r\n            clickable: true\r\n          })\r\n          AMap.event.addListener(marker, 'click', onClick)\r\n        }\r\n        return marker\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// around.vue?b2f2785e","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"around.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-05ad8a0b\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/around.vue\n// module id = 161\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-05ad8a0b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./around.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6eaa4b9b\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-05ad8a0b\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/around.vue\n// module id = 220\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  }, [_c('header-item', {\n    attrs: {\n      \"message\": \"地图周边\",\n      \"backUrl\": \"/\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"90%\"\n    },\n    attrs: {\n      \"id\": \"container\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_map_buttons\"\n  }, _vm._l((_vm.buttons), function(button, index) {\n    return _c('button', {\n      key: button.id,\n      class: [_vm.footer_button, {\n        active: button.isActive\n      }],\n      on: {\n        \"click\": function($event) {\n          _vm.clickItem(index, _vm.buttons)\n        }\n      }\n    }, [_vm._v(_vm._s(button.title) + \"\\n\\n    \")])\n  })), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"panel\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"content-top\"\n  }, _vm._l((_vm.listText), function(list) {\n    return _c('div', [_c('span', [_vm._v(_vm._s(list.name))]), _c('span', [_vm._v(_vm._s(list.distance + '米'))])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"content-bottom\",\n    on: {\n      \"click\": _vm.listClose\n    }\n  }, [_vm._v(\"x\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-button\",\n    on: {\n      \"click\": _vm.listOpen\n    }\n  }, [_c('div', [_vm._v(\"(\" + _vm._s(_vm.listCount) + \")\")]), _vm._v(\" \"), _c('div', [_vm._v(\"查看列表\")])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-05ad8a0b\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/around.vue\n// module id = 230\n// module chunks = 4","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-05ad8a0b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./around.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./around.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05ad8a0b\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./around.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/around.vue\n// module id = 83\n// module chunks = 4"],"sourceRoot":""}